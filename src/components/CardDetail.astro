---
interface Props {
  portfolio: any;
}

const { portfolio } = Astro.props;

import { Image } from "astro:assets";

import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);

const t = useTranslations(lang);
---

<div class="flex flex-col">
  <div class="grid lg:grid-cols-2 grid-cols-1 gap-5">
    <div
      class="relative flex items-center justify-center"
      transition:name={`transition-image-${portfolio.id}`}
    >
      <Image
        class="h-full border-r border-b max-h-[600px] w-auto"
        src={portfolio.image.src}
        alt={portfolio.image.alt}
        width="950"
        height="500"
      />
      {
        portfolio.show_title && (
          <p class="text-white text-5xl absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
            {portfolio.title}
          </p>
        )
      }
    </div>

    <div
      class="flex flex-col gap-5 justify-center xl:pr-20 lg:pr-10 lg:pr-5 max-lg:p-5"
    >
      <h3 class="text-5xl">{portfolio.title}</h3>
      <p class="text-3xl">{portfolio.platform}</p>
      <p class="text-xl">Tech: {portfolio.tech}</p>
      <p>{portfolio.location}, {portfolio.year}</p>

      <p>{portfolio.description}</p>

      <p>
        URL: <a class="text-blue-500" href={portfolio.url} target="_blank"
          >{portfolio.url}</a
        >
      </p>
      {
        portfolio.secondary_link && (
          <a
            class="text-blue-500"
            href={portfolio.secondary_link.href}
            target="_blank"
          >
            {portfolio.secondary_link.text}
          </a>
        )
      }
    </div>
  </div>
  <div class="md:mt-24 lg:mt-32 mx-auto mt-8 mb-20">
    <a
      class="text-3xl"
      href=`${import.meta.env.BASE_URL}/${lang}#${portfolio.id}`
    >
      &larr; {t("main.go_home")}</a
    >
  </div>
</div>
