---
import Layout from "../../layouts/Layout.astro";
import { Image } from "astro:assets";
import {
  getPortfolioFromId,
  portfolioData,
} from "/src/utils/getPortfolioFromId.js";

export function getStaticPaths() {
  return [
    { params: { id: portfolioData.donbolsas.id } },
    { params: { id: portfolioData.classiques.id } },
    { params: { id: portfolioData.exfopino.id } },
    { params: { id: portfolioData.topofor.id } },
    { params: { id: portfolioData.aerorioja.id } },
    { params: { id: portfolioData.yournextproject.id } },
  ];
}

const { id } = Astro.params;
const portfolio = getPortfolioFromId(id);
---

<Layout title="Jorge Madrid Portillo Portfolio">
  <main class="">
    <div class="flex flex-col">
      <div class="grid lg:grid-cols-2 grid-cols-1 gap-5">
        {
          portfolio.imageSrc ? (
            <Image
              transition:name={`transition-image-${portfolio.id}`}
              class="h-full border-r border-b"
              src={portfolio.imageSrc}
              alt={portfolio.alt}
            />
          ) : (
            <div
              transition:name={`transition-image-${portfolio.id}`}
              class="block bg-slate-200 flex flex-col justify-center items-center h-[534px] w-[940px]"
            >
              <p class="text-4xl">{portfolio.title}</p>
            </div>
          )
        }

        <div
          class="flex flex-col gap-5 justify-center xl:pr-20 lg:pr-10 lg:pr-5 max-lg:p-5"
        >
          <h3 class="text-5xl">{portfolio.title}</h3>
          <p class="text-3xl">{portfolio.platform}</p>
          <p class="text-xl">Tech: {portfolio.tech}</p>
          <p>{portfolio.location}, {portfolio.year}</p>

          <p>{portfolio.description["en"]}</p>

          <p>
            URL: <a class="text-blue-500" href={portfolio.url} target="_blank"
              >{portfolio.url}</a
            >
          </p>
        </div>
      </div>
      <div class="md:mt-24 lg:mt-32 mx-auto mt-8 mb-20">
        <a class="text-3xl" href={`/`}>&larr; Go back</a>
      </div>
    </div>
  </main>

  <style></style>
</Layout>
